!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="dist",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(34),s=n(a),u=r(5),f=n(u),l=r(12),p=n(l),c=r(13),d=n(c),v=r(11),h=n(v);t["default"]=i["default"].createClass({displayName:"image-magnifier",propTypes:{previewWidth:i["default"].PropTypes.number,previewHeight:i["default"].PropTypes.number,children:i["default"].PropTypes.element,smallImage:i["default"].PropTypes.shape({src:i["default"].PropTypes.string.isRequired,alt:i["default"].PropTypes.string.isRequired}),zoomImage:i["default"].PropTypes.shape({offset:i["default"].PropTypes.shape({x:i["default"].PropTypes.number,y:i["default"].PropTypes.number}),src:i["default"].PropTypes.string.isRequired}).isRequired,loadingClassName:i["default"].PropTypes.string},getDefaultProps:function(){return{previewWidth:200,previewHeight:200}},getInitialState:function(){return{x:0,y:0,zoomImageDimensions:{width:0,height:0},isImageLoaded:!1,isActive:!1}},componentDidMount:function(){this._isMounted=!0,this.loadImage(this.props.zoomImage.src),this.bindEvents()},componentWillReceiveProps:function(e){this.props.zoomImage!==e.zoomImage&&(this.setState({isImageLoaded:!1,isActive:!1}),this.loadImage(e.zoomImage.src))},componentDidUpdate:function(){this.renderMagnifier()},componentWillUnmount:function(){this.onLeave(),this.unbindEvents(),this._isMounted=!1},onEnter:function(){document.addEventListener("mousemove",this.onMouseMove)},onClick:function(){this.setState({isActive:!this.state.isActive})},onTouchStart:function(e){e.preventDefault()},onLeave:function(){this.removeMagnifier(),document.removeEventListener("mousemove",this.onMouseMove)},onMouseMove:function(e){this.setState({x:e.clientX,y:e.clientY})},bindEvents:function(){var e=this.refs.stage;e.addEventListener("mouseenter",this.onEnter),e.addEventListener("mouseleave",this.onLeave),e.addEventListener("click",this.onClick)},unbindEvents:function(){var e=this.refs.stage;e.removeEventListener("mouseenter",this.onEnter),e.removeEventListener("mouseleave",this.onLeave),e.removeEventListener("click",this.onClick)},loadImage:function(e){var t=this,r=new Image;r.onload=function(e){if(t._isMounted){var r=e.currentTarget,n=r.width,o=r.height;t.handleImageLoad(n,o)}},r.src=e},_isMounted:!1,handleImageLoad:function(e,t){this.setState({zoomImageDimensions:{width:e,height:t},isImageLoaded:!0})},removeMagnifier:function(){s["default"].unmountComponentAtNode(this.refs.lens),s["default"].unmountComponentAtNode(this.refs.preview)},renderMagnifier:function(){var e=s["default"].findDOMNode(this).getBoundingClientRect(),t=this.props,r=t.zoomImage,n=t.previewWidth,o=t.previewHeight,a=this.state,u=a.x,l=a.y,c=a.zoomImageDimensions,v=a.isActive,m=a.isImageLoaded;if(!v||!m)return void this.removeMagnifier();var g=(0,f["default"])({},r,c),y=e.width/g.width,b=e.height/g.height,x=n*y,P=o*b,T=o/P,w=n/x,I=(0,h["default"])({x:u,y:l,smallImage:e,rectangleHeight:P,rectangleWidth:x,previewDiffX:w,previewDiffY:T}),E=I.rectanglePosition,M=I.previewPosition;s["default"].render(i["default"].createElement(p["default"],{width:x,height:P,position:E}),this.refs.lens),s["default"].render(i["default"].createElement(d["default"],{smallImage:e,zoomImage:r,width:n,height:o,position:M}),this.refs.preview)},render:function(){var e=this.props,t=e.smallImage,r=e.children,n=e.loadingClassName,o=this.state,a=o.isImageLoaded,s=o.isActive,u=a?"":n||"",f={position:"relative"};a&&(f.cursor=s?"zoom-out":"zoom-in");var l=void 0;return l=t?i["default"].createElement("img",{src:t.src,alt:t.alt}):r,i["default"].createElement("div",{onTouchStart:this.onTouchStart},i["default"].createElement("div",{className:u,style:f,ref:"stage"},l,i["default"].createElement("div",{ref:"lens"})),i["default"].createElement("div",{ref:"preview"}))}})},function(e,t,r){function n(e){return null!=e&&!("function"==typeof e&&i(e))&&a(o(e))}var o=r(23),i=r(8),a=r(9);e.exports=n},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t){e.exports=react},function(e,t){function r(e,t){return e="number"==typeof e||o.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&t>e}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t,r){var n=r(20),o=r(22),i=r(30),a=o(function(e,t){n(t,i(t),e)});e.exports=a},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){function n(e){var t=o(e)?u.call(e):"";return t==i||t==a}var o=r(2),i="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;e.exports=n},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.x,r=e.y,n=e.smallImage,o=e.rectangleHeight,i=e.rectangleWidth,a=e.previewDiffX,s=e.previewDiffY,u=n.left,f=n.top,l=n.right,p=n.bottom,c=n.height,d=n.width,v=Math.floor(i/2),h=Math.floor(o/2),m={},g={};return r+h>=p?(m.top=c-o,g.bgVertical="bottom"):f>=r-h?(m.top=0,g.bgVertical="top"):(m.top=r-f,m.marginTop=-h,g.bgVertical=-(r-f-h)*s+"px"),t+v>=l?(m.left=d-i,g.bgHorizontal="right"):u>=t-v?(m.left=0,g.bgHorizontal="left"):(m.left=t-u,m.marginLeft=-v,g.bgHorizontal=-(t-u-v)*a+"px"),{rectanglePosition:m,previewPosition:g}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(5),s=n(a);t["default"]=i["default"].createClass({displayName:"lens",propTypes:{width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired,position:i["default"].PropTypes.shape({top:i["default"].PropTypes.number.isRequired,left:i["default"].PropTypes.number.isRequired,marginLeft:i["default"].PropTypes.number,marginTop:i["default"].PropTypes.number}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.position,o={position:"absolute",border:"2px solid grey",width:t,height:r};return i["default"].createElement("div",{style:(0,s["default"])(o,n)})}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o);t["default"]=i["default"].createClass({displayName:"preview",propTypes:{width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired,position:i["default"].PropTypes.shape({bgVertical:i["default"].PropTypes.string.isRequired,bgHorizontal:i["default"].PropTypes.string.isRequired}).isRequired,smallImage:i["default"].PropTypes.shape({bottom:i["default"].PropTypes.number.isRequired,left:i["default"].PropTypes.number.isRequired,top:i["default"].PropTypes.number.isRequired,right:i["default"].PropTypes.number.isRequired}).isRequired,zoomImage:i["default"].PropTypes.shape({src:i["default"].PropTypes.string.isRequired,offset:i["default"].PropTypes.shape({x:i["default"].PropTypes.number,y:i["default"].PropTypes.number})}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.position,o=e.smallImage,a=e.zoomImage,s={position:"fixed",transform:"translateZ(0)",zIndex:"9999",left:a.offset&&a.offset.x?o.right+a.offset.x:o.right,top:a.offset&&a.offset.y?o.top+a.offset.y:o.top,width:t,height:r,backgroundImage:"url("+a.src+")",backgroundRepeat:"no-repeat",backgroundPosition:n.bgHorizontal+" "+n.bgVertical};return i["default"].createElement("div",{style:s})}})},function(e,t){function r(e,t,r){var n=r.length;switch(n){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){function n(e,t,r){var n=e[t];(!o(n,r)||o(n,i[t])&&!a.call(e,t)||void 0===r&&!(t in e))&&(e[t]=r)}var o=r(6),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){return o.call(e,t)||"object"==typeof e&&t in e&&null===i(e)}var n=Object.prototype,o=n.hasOwnProperty,i=Object.getPrototypeOf;e.exports=r},function(e,t){function r(e){return n(Object(e))}var n=Object.keys;e.exports=r},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e,t,r){return o(e,t,r)}var o=r(21);e.exports=n},function(e,t,r){function n(e,t,r,n){r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=n?n(r[s],e[s],s,r,e):e[s];o(r,s,u)}return r}var o=r(15);e.exports=n},function(e,t,r){function n(e){return i(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a="function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=3>i?void 0:a,i=1),t=Object(t);++n<i;){var u=r[n];u&&e(t,u,n,a)}return t})}var o=r(25),i=r(31);e.exports=n},function(e,t,r){var n=r(18),o=n("length");e.exports=o},function(e,t,r){function n(e){var t=e?e.length:void 0;return s(t)&&(a(e)||u(e)||i(e))?o(t,String):null}var o=r(19),i=r(27),a=r(7),s=r(9),u=r(29);e.exports=n},function(e,t,r){function n(e,t,r){if(!s(r))return!1;var n=typeof t;return("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r)?o(r[t],e):!1}var o=r(6),i=r(1),a=r(4),s=r(2);e.exports=n},function(e,t){function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}var n=Object.prototype;e.exports=r},function(e,t,r){function n(e){return o(e)&&s.call(e,"callee")&&(!f.call(e,"callee")||u.call(e)==i)}var o=r(28),i="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,f=a.propertyIsEnumerable;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)}var o=r(1),i=r(10);e.exports=n},function(e,t,r){function n(e){return"string"==typeof e||!o(e)&&i(e)&&u.call(e)==a}var o=r(7),i=r(10),a="[object String]",s=Object.prototype,u=s.toString;e.exports=n},function(e,t,r){function n(e){var t=f(e);if(!t&&!s(e))return i(e);var r=a(e),n=!!r,l=r||[],p=l.length;for(var c in e)!o(e,c)||n&&("length"==c||u(c,p))||t&&"constructor"==c||l.push(c);return l}var o=r(16),i=r(17),a=r(24),s=r(1),u=r(4),f=r(26);e.exports=n},function(e,t,r){function n(e,t){if("function"!=typeof e)throw new TypeError(a);return t=s(void 0===t?e.length-1:i(t),0),function(){for(var r=arguments,n=-1,i=s(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var u=Array(t+1);for(n=-1;++n<t;)u[n]=r[n];return u[t]=a,o(e,this,u)}}var o=r(14),i=r(32),a="Expected a function",s=Math.max;e.exports=n},function(e,t,r){function n(e){if(!e)return 0===e?e:0;if(e=o(e),e===i||e===-i){var t=0>e?-1:1;return t*a}var r=e%1;return e===e?r?e-r:e:0}var o=r(33),i=1/0,a=1.7976931348623157e308;e.exports=n},function(e,t,r){function n(e){if(i(e)){var t=o(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=f.test(e);return r||l.test(e)?p(e.slice(2),r?2:8):u.test(e)?a:+e}var o=r(8),i=r(2),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;e.exports=n},function(e,t){e.exports=react-dom}]);
//# sourceMappingURL=image-magnifier.min.js.map
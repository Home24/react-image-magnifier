!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="dist",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(37),u=n(a),s=r(5),l=n(s),c=r(29),f=n(c),p=r(14),d=n(p),h=r(15),v=n(h),m=r(12),g=n(m),y=r(13),b=n(y);t["default"]=i["default"].createClass({displayName:"image-magnifier",propTypes:{previewWidth:i["default"].PropTypes.number,previewHeight:i["default"].PropTypes.number,children:i["default"].PropTypes.element,smallImage:i["default"].PropTypes.shape({src:i["default"].PropTypes.string.isRequired,alt:i["default"].PropTypes.string.isRequired}),zoomImage:i["default"].PropTypes.shape({offset:i["default"].PropTypes.shape({x:i["default"].PropTypes.number,y:i["default"].PropTypes.number}),src:i["default"].PropTypes.string.isRequired}).isRequired},getDefaultProps:function(){return{previewWidth:200,previewHeight:200}},getInitialState:function(){return{x:0,y:0,zoomImageDimensions:{width:0,height:0},isImageLoaded:!1,isActive:!1,isScrolling:!1}},componentDidMount:function(){this._isMounted=!0,(0,b["default"])()||(this.onScrollFinish=(0,f["default"])(this.onScrollFinish,200),this.onScrollStart=(0,f["default"])(this.onScrollStart,200,{leading:!0,trailing:!1}),this.appendPreviewPlaceholder(),this.loadImage(this.props.zoomImage.src),this.bindEvents())},componentWillReceiveProps:function(e){(0,b["default"])()||this.props.zoomImage!==e.zoomImage&&(this.setState({isImageLoaded:!1,isActive:!1}),this.loadImage(e.zoomImage.src))},componentDidUpdate:function(){(0,b["default"])()||this.renderMagnifier()},componentWillUnmount:function(){this._isMounted=!1,(0,b["default"])()||(this.onLeave(),this.unbindEvents(),this.removePreviewPlaceholder())},onEnter:function(){document.addEventListener("mousemove",this.onMouseMove),window.addEventListener("scroll",this.onScrollFinish),window.addEventListener("scroll",this.onScrollStart),this.setState({isActive:!0})},onLeave:function(){this.removeMagnifier(),document.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("scroll",this.onScrollFinish),window.removeEventListener("scroll",this.onScrollStart),this.setState({isActive:!1})},onMouseMove:function(e){this.setState({x:e.clientX,y:e.clientY})},onScrollFinish:function(){this.setState({isScrolling:!1})},onScrollStart:function(){this.setState({isScrolling:!0})},bindEvents:function(){var e=this.refs.stage;e.addEventListener("mouseenter",this.onEnter),e.addEventListener("mouseleave",this.onLeave)},unbindEvents:function(){var e=this.refs.stage;e.removeEventListener("mouseenter",this.onEnter),e.removeEventListener("mouseleave",this.onLeave)},loadImage:function(e){var t=this,r=new Image;r.onload=function(e){if(t._isMounted){var r=e.currentTarget,n=r.width,o=r.height;t.handleImageLoad(n,o)}},r.src=e},_isMounted:!1,previewPlaceholder:null,handleImageLoad:function(e,t){this.setState({zoomImageDimensions:{width:e,height:t},isImageLoaded:!0})},removeMagnifier:function(){u["default"].unmountComponentAtNode(this.refs.lens),u["default"].unmountComponentAtNode(this.previewPlaceholder)},appendPreviewPlaceholder:function(){this.previewPlaceholder=document.body.appendChild(document.createElement("div"))},removePreviewPlaceholder:function(){this.previewPlaceholder&&(document.body.removeChild(this.previewPlaceholder),this.previewPlaceholder=null)},renderMagnifier:function(){var e=u["default"].findDOMNode(this).getBoundingClientRect(),t=this.props,r=t.zoomImage,n=t.previewWidth,o=t.previewHeight,a=this.state,s=a.x,c=a.y,f=a.zoomImageDimensions,p=a.isActive,h=a.isImageLoaded,m=a.isScrolling;if(!p||!h||m)return void this.removeMagnifier();var y=(0,l["default"])({},r,f),b=e.width/y.width,P=e.height/y.height,w=n*b,x=o*P,T=o/x,I=n/w,S=(0,g["default"])({x:s,y:c,smallImage:e,rectangleHeight:x,rectangleWidth:w,previewDiffX:I,previewDiffY:T}),E=S.rectanglePosition,M=S.previewPosition;u["default"].render(i["default"].createElement(d["default"],{width:w,height:x,position:E}),this.refs.lens),u["default"].render(i["default"].createElement(v["default"],{smallImage:e,zoomImage:r,width:n,height:o,position:M}),this.previewPlaceholder)},render:function(){var e=this.props,t=e.smallImage,r=e.children,n={position:"relative"},o=void 0;return o=t?i["default"].createElement("img",{src:t.src,alt:t.alt}):r,i["default"].createElement("div",null,i["default"].createElement("div",{style:n,ref:"stage"},o,i["default"].createElement("div",{ref:"lens"})))}})},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){function n(e){return null!=e&&!("function"==typeof e&&i(e))&&a(o(e))}var o=r(25),i=r(8),a=r(9);e.exports=n},function(e,t){e.exports=react},function(e,t){function r(e,t){return e="number"==typeof e||o.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&t>e}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t,r){var n=r(22),o=r(24),i=r(33),a=o(function(e,t){n(t,i(t),e)});e.exports=a},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){function n(e){var t=o(e)?s.call(e):"";return t==i||t==a}var o=r(1),i="[object Function]",a="[object GeneratorFunction]",u=Object.prototype,s=u.toString;e.exports=n},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t,r){function n(e){if(i(e)){var t=o(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=l.test(e);return r||c.test(e)?f(e.slice(2),r?2:8):s.test(e)?a:+e}var o=r(8),i=r(1),a=NaN,u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.x,r=e.y,n=e.smallImage,o=e.rectangleHeight,i=e.rectangleWidth,a=e.previewDiffX,u=e.previewDiffY,s=n.left,l=n.top,c=n.right,f=n.bottom,p=n.height,d=n.width,h=Math.floor(i/2),v=Math.floor(o/2),m={},g={};return r+v>=f?(m.top=p-o,g.bgVertical="bottom"):l>=r-v?(m.top=0,g.bgVertical="top"):(m.top=r-l,m.marginTop=-v,g.bgVertical=-(r-l-v)*u+"px"),t+h>=c?(m.left=d-i,g.bgHorizontal="right"):s>=t-h?(m.left=0,g.bgHorizontal="left"):(m.left=t-s,m.marginLeft=-h,g.bgHorizontal=-(t-s-h)*a+"px"),{rectanglePosition:m,previewPosition:g}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(5),u=n(a);t["default"]=i["default"].createClass({displayName:"lens",propTypes:{width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired,position:i["default"].PropTypes.shape({top:i["default"].PropTypes.number.isRequired,left:i["default"].PropTypes.number.isRequired,marginLeft:i["default"].PropTypes.number,marginTop:i["default"].PropTypes.number}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.position,o={position:"absolute",border:"2px solid grey",transform:"translateZ(0)",width:t,height:r};return i["default"].createElement("div",{style:(0,u["default"])(o,n)})}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o);t["default"]=i["default"].createClass({displayName:"preview",propTypes:{width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired,position:i["default"].PropTypes.shape({bgVertical:i["default"].PropTypes.string.isRequired,bgHorizontal:i["default"].PropTypes.string.isRequired}).isRequired,smallImage:i["default"].PropTypes.shape({bottom:i["default"].PropTypes.number.isRequired,left:i["default"].PropTypes.number.isRequired,top:i["default"].PropTypes.number.isRequired,right:i["default"].PropTypes.number.isRequired}).isRequired,zoomImage:i["default"].PropTypes.shape({src:i["default"].PropTypes.string.isRequired,offset:i["default"].PropTypes.shape({x:i["default"].PropTypes.number,y:i["default"].PropTypes.number})}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.position,o=e.smallImage,a=e.zoomImage,u={position:"fixed",transform:"translateZ(0)",zIndex:"9999",left:a.offset&&a.offset.x?o.right+a.offset.x:o.right,top:a.offset&&a.offset.y?o.top+a.offset.y:o.top,width:t,height:r,backgroundImage:"url("+a.src+")",backgroundRepeat:"no-repeat",backgroundPosition:n.bgHorizontal+" "+n.bgVertical};return i["default"].createElement("div",{style:u})}})},function(e,t){function r(e,t,r){var n=r.length;switch(n){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){function n(e,t,r){var n=e[t];(!o(n,r)||o(n,i[t])&&!a.call(e,t)||void 0===r&&!(t in e))&&(e[t]=r)}var o=r(6),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){return o.call(e,t)||"object"==typeof e&&t in e&&null===i(e)}var n=Object.prototype,o=n.hasOwnProperty,i=Object.getPrototypeOf;e.exports=r},function(e,t){function r(e){return n(Object(e))}var n=Object.keys;e.exports=r},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e,t,r){return o(e,t,r)}var o=r(23);e.exports=n},function(e,t,r){function n(e,t,r,n){r||(r={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=n?n(r[u],e[u],u,r,e):e[u];o(r,u,s)}return r}var o=r(17);e.exports=n},function(e,t,r){function n(e){return i(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a="function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=3>i?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var o=r(27),i=r(35);e.exports=n},function(e,t,r){var n=r(20),o=n("length");e.exports=o},function(e,t,r){function n(e){var t=e?e.length:void 0;return u(t)&&(a(e)||s(e)||i(e))?o(t,String):null}var o=r(21),i=r(30),a=r(7),u=r(9),s=r(32);e.exports=n},function(e,t,r){function n(e,t,r){if(!u(r))return!1;var n=typeof t;return("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r)?o(r[t],e):!1}var o=r(6),i=r(2),a=r(4),u=r(1);e.exports=n},function(e,t){function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}var n=Object.prototype;e.exports=r},function(e,t,r){function n(e,t,r){function n(){b&&clearTimeout(b),v&&clearTimeout(v),w=0,h=v=y=b=P=void 0}function l(t,r){r&&clearTimeout(r),v=b=P=void 0,t&&(w=i(),m=e.apply(y,h),b||v||(h=y=void 0))}function c(){var e=t-(i()-g);0>=e||e>t?l(P,v):b=setTimeout(c,e)}function f(){return(b&&P||v&&I)&&(m=e.apply(y,h)),n(),m}function p(){l(I,b)}function d(){if(h=arguments,g=i(),y=this,P=I&&(b||!x),T===!1)var r=x&&!b;else{v||x||(w=g);var n=T-(g-w),o=0>=n||n>T;o?(v&&(v=clearTimeout(v)),w=g,m=e.apply(y,h)):v||(v=setTimeout(p,n))}return o&&b?b=clearTimeout(b):b||t===T||(b=setTimeout(c,t)),r&&(o=!0,m=e.apply(y,h)),!o||b||v||(h=y=void 0),m}var h,v,m,g,y,b,P,w=0,x=!1,T=!1,I=!0;if("function"!=typeof e)throw new TypeError(u);return t=a(t)||0,o(r)&&(x=!!r.leading,T="maxWait"in r&&s(a(r.maxWait)||0,t),I="trailing"in r?!!r.trailing:I),d.cancel=n,d.flush=f,d}var o=r(1),i=r(34),a=r(11),u="Expected a function",s=Math.max;e.exports=n},function(e,t,r){function n(e){return o(e)&&u.call(e,"callee")&&(!l.call(e,"callee")||s.call(e)==i)}var o=r(31),i="[object Arguments]",a=Object.prototype,u=a.hasOwnProperty,s=a.toString,l=a.propertyIsEnumerable;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)}var o=r(2),i=r(10);e.exports=n},function(e,t,r){function n(e){return"string"==typeof e||!o(e)&&i(e)&&s.call(e)==a}var o=r(7),i=r(10),a="[object String]",u=Object.prototype,s=u.toString;e.exports=n},function(e,t,r){function n(e){var t=l(e);if(!t&&!u(e))return i(e);var r=a(e),n=!!r,c=r||[],f=c.length;for(var p in e)!o(e,p)||n&&("length"==p||s(p,f))||t&&"constructor"==p||c.push(p);return c}var o=r(18),i=r(19),a=r(26),u=r(2),s=r(4),l=r(28);e.exports=n},function(e,t){var r=Date.now;e.exports=r},function(e,t,r){function n(e,t){if("function"!=typeof e)throw new TypeError(a);return t=u(void 0===t?e.length-1:i(t),0),function(){for(var r=arguments,n=-1,i=u(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(n=-1;++n<t;)s[n]=r[n];return s[t]=a,o(e,this,s)}}var o=r(16),i=r(36),a="Expected a function",u=Math.max;e.exports=n},function(e,t,r){function n(e){if(!e)return 0===e?e:0;if(e=o(e),e===i||e===-i){var t=0>e?-1:1;return t*a}var r=e%1;return e===e?r?e-r:e:0}var o=r(11),i=1/0,a=1.7976931348623157e308;e.exports=n},function(e,t){e.exports=react-dom}]);
//# sourceMappingURL=image-magnifier.min.js.map
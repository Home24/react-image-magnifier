!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="dist",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(36),u=n(a),s=r(7),l=n(s),f=r(26),c=n(f),p=r(12),d=n(p),h=r(13),v=n(h),m=r(10),g=n(m),y=r(11),b=n(y);t["default"]=i["default"].createClass({displayName:"image-magnifier",propTypes:{previewWidth:i["default"].PropTypes.number,previewHeight:i["default"].PropTypes.number,delay:i["default"].PropTypes.number,children:i["default"].PropTypes.element,smallImage:i["default"].PropTypes.shape({src:i["default"].PropTypes.string.isRequired,alt:i["default"].PropTypes.string.isRequired}),zoomImage:i["default"].PropTypes.shape({offset:i["default"].PropTypes.shape({x:i["default"].PropTypes.number,y:i["default"].PropTypes.number}),src:i["default"].PropTypes.string.isRequired}).isRequired},getDefaultProps:function(){return{previewWidth:200,previewHeight:200}},getInitialState:function(){return{x:0,y:0,zoomImageDimensions:{width:0,height:0},isImageLoaded:!1,isActive:!1,isScrolling:!1}},componentDidMount:function(){this._isMounted=!0,(0,b["default"])()||(this.onScrollFinish=(0,c["default"])(this.onScrollFinish,200),this.onScrollStart=(0,c["default"])(this.onScrollStart,200,{leading:!0,trailing:!1}),this.appendPreviewPlaceholder(),this.loadImage(this.props.zoomImage.src),this.bindEvents())},componentWillReceiveProps:function(e){(0,b["default"])()||this.props.zoomImage!==e.zoomImage&&(this.setState({isImageLoaded:!1,isActive:!1}),this.loadImage(e.zoomImage.src))},componentDidUpdate:function(){(0,b["default"])()||this.renderMagnifier()},componentWillUnmount:function(){this._isMounted=!1,(0,b["default"])()||(this.onLeave(),this.unbindEvents(),this.removePreviewPlaceholder())},onEnter:function(){var e=this;document.addEventListener("mousemove",this.onMouseMove),window.addEventListener("scroll",this.onScrollFinish),window.addEventListener("scroll",this.onScrollStart);var t=function(){e.setState({isActive:!0})};this.props.delay?this.waitTimeoutId=setTimeout(t,this.props.delay):t()},onLeave:function(){clearTimeout(this.waitTimeoutId),this.removeMagnifier(),document.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("scroll",this.onScrollFinish),window.removeEventListener("scroll",this.onScrollStart),this.setState({isActive:!1})},onMouseMove:function(e){this.setState({x:e.clientX,y:e.clientY})},onScrollFinish:function(){this.setState({isScrolling:!1})},onScrollStart:function(){this.setState({isScrolling:!0})},bindEvents:function(){var e=this.refs.stage;e.addEventListener("mouseenter",this.onEnter),e.addEventListener("mouseleave",this.onLeave)},unbindEvents:function(){var e=this.refs.stage;e.removeEventListener("mouseenter",this.onEnter),e.removeEventListener("mouseleave",this.onLeave)},loadImage:function(e){var t=this,r=new Image;r.onload=function(e){if(t._isMounted){var r=e.currentTarget,n=r.width,o=r.height;t.handleImageLoad(n,o)}},r.src=e},_isMounted:!1,previewPlaceholder:null,handleImageLoad:function(e,t){this.setState({zoomImageDimensions:{width:e,height:t},isImageLoaded:!0})},removeMagnifier:function(){u["default"].unmountComponentAtNode(this.refs.lens),u["default"].unmountComponentAtNode(this.previewPlaceholder)},appendPreviewPlaceholder:function(){this.previewPlaceholder=document.body.appendChild(document.createElement("div"))},removePreviewPlaceholder:function(){this.previewPlaceholder&&(document.body.removeChild(this.previewPlaceholder),this.previewPlaceholder=null)},renderMagnifier:function(){var e=u["default"].findDOMNode(this).getBoundingClientRect(),t=this.props,r=t.zoomImage,n=t.previewWidth,o=t.previewHeight,a=this.state,s=a.x,f=a.y,c=a.zoomImageDimensions,p=a.isActive,h=a.isImageLoaded,m=a.isScrolling;if(!p||!h||m)return void this.removeMagnifier();var y=(0,l["default"])({},r,c),b=e.width/y.width,P=e.height/y.height,w=n*b,x=o*P,T=o/x,I=n/w,S=(0,g["default"])({x:s,y:f,smallImage:e,rectangleHeight:x,rectangleWidth:w,previewDiffX:I,previewDiffY:T}),O=S.rectanglePosition,E=S.previewPosition;u["default"].render(i["default"].createElement(d["default"],{width:w,height:x,position:O}),this.refs.lens),u["default"].render(i["default"].createElement(v["default"],{smallImage:e,zoomImage:r,width:n,height:o,position:E}),this.previewPlaceholder)},render:function(){var e=this.props,t=e.smallImage,r=e.children,n={position:"relative"},o=void 0;return o=t?i["default"].createElement("img",{src:t.src,alt:t.alt}):r,i["default"].createElement("div",null,i["default"].createElement("div",{style:n,ref:"stage"},o,i["default"].createElement("div",{ref:"lens"})))}})},function(e,t,r){function n(e){return null!=e&&i(e.length)&&!o(e)}var o=r(30),i=r(31);e.exports=n},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t){e.exports=react},function(e,t,r){function n(e,t,r){var n=e[t];a.call(e,t)&&o(n,r)&&(void 0!==r||t in e)||(e[t]=r)}var o=r(8),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t){function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}var n=Object.prototype;e.exports=r},function(e,t,r){var n=r(4),o=r(19),i=r(20),a=r(1),u=r(6),s=r(33),l=Object.prototype,f=l.hasOwnProperty,c=l.propertyIsEnumerable,p=!c.call({valueOf:1},"valueOf"),d=i(function(e,t){if(p||u(t)||a(t))return void o(t,s(t),e);for(var r in t)f.call(t,r)&&n(e,r,t[r])});e.exports=d},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.x,r=e.y,n=e.smallImage,o=e.rectangleHeight,i=e.rectangleWidth,a=e.previewDiffX,u=e.previewDiffY,s=n.left,l=n.top,f=n.right,c=n.bottom,p=n.height,d=n.width,h=Math.floor(i/2),v=Math.floor(o/2),m={},g={};return r+v>=c?(m.top=p-o,g.bgVertical="bottom"):r-v<=l?(m.top=0,g.bgVertical="top"):(m.top=r-l,m.marginTop=-v,g.bgVertical=-(r-l-v)*u+"px"),t+h>=f?(m.left=d-i,g.bgHorizontal="right"):t-h<=s?(m.left=0,g.bgHorizontal="left"):(m.left=t-s,m.marginLeft=-h,g.bgHorizontal=-(t-s-h)*a+"px"),{rectanglePosition:m,previewPosition:g}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o),a=r(7),u=n(a);t["default"]=i["default"].createClass({displayName:"lens",propTypes:{width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired,position:i["default"].PropTypes.shape({top:i["default"].PropTypes.number.isRequired,left:i["default"].PropTypes.number.isRequired,marginLeft:i["default"].PropTypes.number,marginTop:i["default"].PropTypes.number}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.position,o={position:"absolute",border:"2px solid grey",transform:"translateZ(0)",width:t,height:r};return i["default"].createElement("div",{style:(0,u["default"])(o,n)})}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=n(o);t["default"]=i["default"].createClass({displayName:"preview",propTypes:{width:i["default"].PropTypes.number.isRequired,height:i["default"].PropTypes.number.isRequired,position:i["default"].PropTypes.shape({bgVertical:i["default"].PropTypes.string.isRequired,bgHorizontal:i["default"].PropTypes.string.isRequired}).isRequired,smallImage:i["default"].PropTypes.shape({bottom:i["default"].PropTypes.number.isRequired,left:i["default"].PropTypes.number.isRequired,top:i["default"].PropTypes.number.isRequired,right:i["default"].PropTypes.number.isRequired}).isRequired,zoomImage:i["default"].PropTypes.shape({src:i["default"].PropTypes.string.isRequired,offset:i["default"].PropTypes.shape({x:i["default"].PropTypes.number,y:i["default"].PropTypes.number})}).isRequired},render:function(){var e=this.props,t=e.width,r=e.height,n=e.position,o=e.smallImage,a=e.zoomImage,u={position:"fixed",transform:"translateZ(0)",zIndex:"9999",left:a.offset&&a.offset.x?o.right+a.offset.x:o.right,top:a.offset&&a.offset.y?o.top+a.offset.y:o.top,width:t,height:r,backgroundImage:"url("+a.src+")",backgroundRepeat:"no-repeat",backgroundPosition:n.bgHorizontal+" "+n.bgVertical};return i["default"].createElement("div",{style:u})}})},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){function n(e,t){var r=a(e)||i(e)?o(e.length,String):[],n=r.length,s=!!n;for(var f in e)!t&&!l.call(e,f)||s&&("length"==f||u(f,n))||r.push(f);return r}var o=r(18),i=r(27),a=r(28),u=r(5),s=Object.prototype,l=s.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){if(!o(e))return i(e);var t=[];for(var r in Object(e))u.call(e,r)&&"constructor"!=r&&t.push(r);return t}var o=r(6),i=r(23),a=Object.prototype,u=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=i(r.length-t,0),u=Array(a);++n<a;)u[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=u,o(e,this,s)}}var o=r(14),i=Math.max;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e,t,r,n){r||(r={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=n?n(r[u],e[u],u,r,e):void 0;o(r,u,void 0===s?e[u]:s)}return r}var o=r(4);e.exports=n},function(e,t,r){function n(e){return o(function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,u&&i(r[0],r[1],u)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,a)}return t})}var o=r(17),i=r(22);e.exports=n},function(e,t){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,function(){return this}())},function(e,t,r){function n(e,t,r){if(!u(r))return!1;var n=typeof t;return!!("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r)&&o(r[t],e)}var o=r(8),i=r(1),a=r(5),u=r(2);e.exports=n},function(e,t,r){var n=r(24),o=n(Object.keys,Object);e.exports=o},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t,r){var n=r(21),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t,r){function n(e,t,r){function n(t){var r=y,n=b;return y=b=void 0,I=t,w=e.apply(n,r)}function f(e){return I=e,x=setTimeout(d,t),S?n(e):w}function c(e){var r=e-T,n=e-I,o=t-r;return O?l(o,P-n):o}function p(e){var r=e-T,n=e-I;return void 0===T||r>=t||r<0||O&&n>=P}function d(){var e=i();return p(e)?h(e):void(x=setTimeout(d,c(e)))}function h(e){return x=void 0,E&&y?n(e):(y=b=void 0,w)}function v(){void 0!==x&&clearTimeout(x),I=0,y=T=b=x=void 0}function m(){return void 0===x?w:h(i())}function g(){var e=i(),r=p(e);if(y=arguments,b=this,T=e,r){if(void 0===x)return f(T);if(O)return x=setTimeout(d,t),n(T)}return void 0===x&&(x=setTimeout(d,t)),w}var y,b,P,w,x,T,I=0,S=!1,O=!1,E=!0;if("function"!=typeof e)throw new TypeError(u);return t=a(t)||0,o(r)&&(S=!!r.leading,O="maxWait"in r,P=O?s(a(r.maxWait)||0,t):P,E="trailing"in r?!!r.trailing:E),g.cancel=v,g.flush=m,g}var o=r(2),i=r(34),a=r(35),u="Expected a function",s=Math.max,l=Math.min;e.exports=n},function(e,t,r){function n(e){return o(e)&&u.call(e,"callee")&&(!l.call(e,"callee")||s.call(e)==i)}var o=r(29),i="[object Arguments]",a=Object.prototype,u=a.hasOwnProperty,s=a.toString,l=a.propertyIsEnumerable;e.exports=n},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){function n(e){return i(e)&&o(e)}var o=r(1),i=r(9);e.exports=n},function(e,t,r){function n(e){var t=o(e)?s.call(e):"";return t==i||t==a}var o=r(2),i="[object Function]",a="[object GeneratorFunction]",u=Object.prototype,s=u.toString;e.exports=n},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t,r){function n(e){return"symbol"==typeof e||o(e)&&u.call(e)==i}var o=r(9),i="[object Symbol]",a=Object.prototype,u=a.toString;e.exports=n},function(e,t,r){function n(e){return a(e)?o(e):i(e)}var o=r(15),i=r(16),a=r(1);e.exports=n},function(e,t,r){var n=r(25),o=function(){return n.Date.now()};e.exports=o},function(e,t,r){function n(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=l.test(e);return r||f.test(e)?c(e.slice(2),r?2:8):s.test(e)?a:+e}var o=r(2),i=r(32),a=NaN,u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt;e.exports=n},function(e,t){e.exports=react-dom}]);
//# sourceMappingURL=image-magnifier.min.js.map